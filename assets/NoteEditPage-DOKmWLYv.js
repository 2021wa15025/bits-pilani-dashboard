import{l as J,r as o,a1 as v,j as e,C as F,a as P,U as ke,_ as Ee,B as D,X as ee,P as Te,$ as K,a0 as Y,ao as se,K as q,ap as te,aq as Fe,ar as Pe,ab as ae,as as Ie,ad as $e,at as Le,ag as _e,au as Oe,av as Re,aw as Me,ax as re,ay as ze,az as Be,c as $,aA as ne,E as Q,M as X,O as Ue,D as le,d as oe,e as ie,f as ce,g as de,aB as We,a2 as Ve,ak as qe,aa as Ge,h as He,i as M,k as z,I as Z,T as Ke,Z as Ye,p as Qe,q as Xe,s as Ze,t as Je,u as es,o as ss}from"./index-8JrxHvHV.js";import{F as H,T as ts}from"./tag-Cjs2xsJY.js";/**
 * @license lucide-react v0.336.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=J("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.336.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function ns({noteId:s,onFilesUploaded:r,accept:c="image/*,.pdf,.doc,.docx,.txt,.md",maxSize:i=50*1024*1024,multiple:l=!0,className:p=""}){const[b,h]=o.useState(!1),[C,m]=o.useState([]),N=o.useRef(null),A=t=>t.startsWith("image/")?se:t==="application/pdf"?q:t.includes("document")||t.includes("word")?q:H,y=t=>{if(t===0)return"0 Bytes";const d=1024,g=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(t)/Math.log(d));return parseFloat((t/Math.pow(d,x)).toFixed(2))+" "+g[x]},w=t=>t.size>i?`File size must be less than ${y(i)}`:c.split(",").map(x=>x.trim()).some(x=>x.startsWith(".")?t.name.toLowerCase().endsWith(x.toLowerCase()):x.includes("/*")?t.type.startsWith(x.split("/*")[0]):t.type===x)?null:"File type not supported",a=async t=>{const d=new FormData;d.append("file",t),d.append("noteId",s);const g=await fetch(`https://${K}.supabase.co/functions/v1/make-server-917daa5d/upload`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:d}),x=await g.json();if(!g.ok)throw new Error(x.error||"Upload failed");return x.file},u=o.useCallback(async t=>{const d=Array.from(t),g=[];for(const j of d){const E=w(j);if(E){v.error(`${j.name}: ${E}`);continue}g.push(j)}if(g.length===0)return;const x=g.map((j,E)=>({file:j,progress:0,status:"uploading",id:`upload-${Date.now()}-${E}`}));m(x);const U=[];for(let j=0;j<g.length;j++){const E=g[j],W=x[j];try{const O=setInterval(()=>{m(L=>L.map(f=>f.id===W.id?{...f,progress:Math.min(f.progress+10,90)}:f))},200),R=await a(E);clearInterval(O),m(L=>L.map(f=>f.id===W.id?{...f,progress:100,status:"success"}:f)),U.push(R),v.success(`${E.name} uploaded successfully`)}catch(O){const R=O instanceof Error?O.message:"Upload failed";m(L=>L.map(f=>f.id===W.id?{...f,status:"error",error:R}:f)),v.error(`Failed to upload ${E.name}: ${R}`)}}setTimeout(()=>{m([])},3e3),U.length>0&&r(U)},[s,i,c,r]),S=o.useCallback(t=>{t.preventDefault(),h(!0)},[]),k=o.useCallback(t=>{t.preventDefault(),h(!1)},[]),V=o.useCallback(t=>{t.preventDefault(),h(!1);const d=t.dataTransfer.files;d.length>0&&u(d)},[u]),G=o.useCallback(t=>{const d=t.target.files;d&&u(d),t.target.value=""},[u]),_=t=>{m(d=>d.filter(g=>g.id!==t))};return e.jsxs("div",{className:p,children:[e.jsx(F,{className:`border-2 border-dashed transition-colors cursor-pointer ${b?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragOver:S,onDragLeave:k,onDrop:V,onClick:()=>{var t;return(t=N.current)==null?void 0:t.click()},children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Drop files here or click to upload"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Supports images, PDFs, documents up to ",y(i)]})]})]}),e.jsx("input",{ref:N,type:"file",multiple:l,accept:c,onChange:G,className:"hidden"})]})}),C.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:C.map(t=>{const d=A(t.file.type);return e.jsx(F,{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(d,{className:"h-8 w-8 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:t.file.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.status==="success"&&e.jsx(as,{className:"h-4 w-4 text-green-500"}),t.status==="error"&&e.jsx(Ee,{className:"h-4 w-4 text-red-500"}),e.jsx(D,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),_(t.id)},children:e.jsx(ee,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:y(t.file.size)}),t.status==="uploading"&&e.jsx(Te,{value:t.progress,className:"h-2"}),t.status==="error"&&e.jsx("p",{className:"text-xs text-red-500",children:t.error}),t.status==="success"&&e.jsx("p",{className:"text-xs text-green-600",children:"Uploaded successfully"})]})]})},t.id)})})]})}var ue="AlertDialog",[ls]=$e(ue,[te]),I=te(),me=s=>{const{__scopeAlertDialog:r,...c}=s,i=I(r);return e.jsx(Fe,{...i,...c,modal:!0})};me.displayName=ue;var os="AlertDialogTrigger",xe=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,l=I(c);return e.jsx(Pe,{...l,...i,ref:r})});xe.displayName=os;var is="AlertDialogPortal",he=s=>{const{__scopeAlertDialog:r,...c}=s,i=I(r);return e.jsx(ze,{...i,...c})};he.displayName=is;var cs="AlertDialogOverlay",ge=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,l=I(c);return e.jsx(Be,{...l,...i,ref:r})});ge.displayName=cs;var B="AlertDialogContent",[ds,us]=ls(B),ms=Oe("AlertDialogContent"),pe=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,children:i,...l}=s,p=I(c),b=o.useRef(null),h=ae(r,b),C=o.useRef(null);return e.jsx(Ie,{contentName:B,titleName:fe,docsSlug:"alert-dialog",children:e.jsx(ds,{scope:c,cancelRef:C,children:e.jsxs(Le,{role:"alertdialog",...p,...l,ref:h,onOpenAutoFocus:_e(l.onOpenAutoFocus,m=>{var N;m.preventDefault(),(N=C.current)==null||N.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(ms,{children:i}),e.jsx(hs,{contentRef:b})]})})})});pe.displayName=B;var fe="AlertDialogTitle",je=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,l=I(c);return e.jsx(Re,{...l,...i,ref:r})});je.displayName=fe;var ve="AlertDialogDescription",Ne=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,l=I(c);return e.jsx(Me,{...l,...i,ref:r})});Ne.displayName=ve;var xs="AlertDialogAction",ye=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,l=I(c);return e.jsx(re,{...l,...i,ref:r})});ye.displayName=xs;var we="AlertDialogCancel",De=o.forwardRef((s,r)=>{const{__scopeAlertDialog:c,...i}=s,{cancelRef:l}=us(we,c),p=I(c),b=ae(r,l);return e.jsx(re,{...p,...i,ref:b})});De.displayName=we;var hs=({contentRef:s})=>{const r=`\`${B}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${B}\` by passing a \`${ve}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${B}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var i;document.getElementById((i=s.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(r)},[r,s]),null},gs=me,ps=xe,fs=he,js=ge,vs=pe,Ns=ye,ys=De,ws=je,Ds=Ne;function bs({...s}){return e.jsx(gs,{"data-slot":"alert-dialog",...s})}function Cs({...s}){return e.jsx(ps,{"data-slot":"alert-dialog-trigger",...s})}function As({...s}){return e.jsx(fs,{"data-slot":"alert-dialog-portal",...s})}function Ss({className:s,...r}){return e.jsx(js,{"data-slot":"alert-dialog-overlay",className:$("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...r})}function ks({className:s,...r}){return e.jsxs(As,{children:[e.jsx(Ss,{}),e.jsx(vs,{"data-slot":"alert-dialog-content",className:$("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...r})]})}function Es({className:s,...r}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:$("flex flex-col gap-2 text-center sm:text-left",s),...r})}function Ts({className:s,...r}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:$("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...r})}function Fs({className:s,...r}){return e.jsx(ws,{"data-slot":"alert-dialog-title",className:$("text-lg font-semibold",s),...r})}function Ps({className:s,...r}){return e.jsx(Ds,{"data-slot":"alert-dialog-description",className:$("text-muted-foreground text-sm",s),...r})}function Is({className:s,...r}){return e.jsx(Ns,{className:$(ne(),s),...r})}function $s({className:s,...r}){return e.jsx(ys,{className:$(ne({variant:"outline"}),s),...r})}function Ls({noteId:s,files:r,onFilesChange:c,className:i=""}){const[l,p]=o.useState(null),[b,h]=o.useState(!1),C=a=>a.startsWith("image/")?se:a==="application/pdf"?q:a.includes("document")||a.includes("word")?q:H,m=a=>{if(a===0)return"0 Bytes";const u=1024,S=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(a)/Math.log(u));return parseFloat((a/Math.pow(u,k)).toFixed(2))+" "+S[k]},N=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=async a=>{h(!0);try{if(!(await fetch(`https://${K}.supabase.co/functions/v1/make-server-917daa5d/files/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete file");const S=r.filter(k=>k.id!==a);c(S),v.success("File deleted successfully")}catch(u){console.error("Error deleting file:",u),v.error("Failed to delete file")}finally{h(!1)}},y=async a=>{try{if(a.type.startsWith("image/")){const u=document.createElement("a");u.href=a.url,u.download=a.name,u.target="_blank",document.body.appendChild(u),u.click(),document.body.removeChild(u)}else window.open(a.url,"_blank")}catch(u){console.error("Error downloading file:",u),v.error("Failed to download file")}},w=a=>{a.type.startsWith("image/")||a.type==="application/pdf"?p(a):y(a)};return r.length===0?e.jsxs("div",{className:`text-center py-8 text-muted-foreground ${i}`,children:[e.jsx(H,{className:"mx-auto h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"No files attached"})]}):e.jsxs("div",{className:i,children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(a=>{const u=C(a.type),S=a.type.startsWith("image/");return e.jsx(F,{className:"group hover:shadow-md transition-shadow",children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"aspect-square rounded-lg bg-muted overflow-hidden relative",children:[S?e.jsx("img",{src:a.url,alt:a.name,className:"w-full h-full object-cover cursor-pointer",onClick:()=>w(a),loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(u,{className:"h-12 w-12 text-muted-foreground"})}),!S&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>w(a),children:e.jsx(Q,{className:"w-6 h-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",title:a.name,children:a.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m(a.size)," • ",N(a.uploadDate)]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>w(a),className:"flex-1",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),S?"View":"Open"]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>y(a),children:e.jsx(X,{className:"w-4 h-4"})}),e.jsxs(bs,{children:[e.jsx(Cs,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",disabled:b,children:e.jsx(Ue,{className:"w-4 h-4"})})}),e.jsxs(ks,{children:[e.jsxs(Es,{children:[e.jsx(Fs,{children:"Delete File"}),e.jsxs(Ps,{children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']})]}),e.jsxs(Ts,{children:[e.jsx($s,{children:"Cancel"}),e.jsx(Is,{onClick:()=>A(a.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})},a.id)})}),e.jsx(le,{open:!!l,onOpenChange:()=>p(null),children:e.jsx(oe,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs(ie,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[(()=>{const a=C(l.type);return e.jsx(a,{className:"w-5 h-5"})})(),l.name]}),e.jsxs(de,{children:[m(l.size)," • ",N(l.uploadDate)]})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:l.type.startsWith("image/")?e.jsx("img",{src:l.url,alt:l.name,className:"max-w-full max-h-full object-contain rounded-lg"}):l.type==="application/pdf"?e.jsx("iframe",{src:l.url,className:"w-full h-[60vh] rounded-lg",title:l.name}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Preview not available for this file type"}),e.jsxs(D,{onClick:()=>y(l),children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Open File"]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[m(l.size)," • ",N(l.uploadDate)]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(D,{variant:"outline",onClick:()=>y(l),children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Download"]})})]})]})})})]})}function Rs({note:s,courses:r,onBack:c,onSave:i,onCancel:l}){const[p,b]=o.useState(s.title),[h,C]=o.useState(s.content),[m,N]=o.useState(s.course),[A,y]=o.useState(s.tags),[w,a]=o.useState(s.files||[]),[u,S]=o.useState(!1),[k,V]=o.useState(!1),[G,_]=o.useState(!1),[t,d]=o.useState(!1),[g,x]=o.useState(!1);o.useRef(null),o.useEffect(()=>{(async()=>{if(s.id&&s.id!=="new"){x(!0);try{const T=await fetch(`https://${K}.supabase.co/functions/v1/make-server-917daa5d/files/${s.id}`,{headers:{Authorization:`Bearer ${Y}`}});if(T.ok){const Se=await T.json();a(Se.files||[])}}catch(T){console.error("Error loading files:",T)}finally{x(!1)}}})()},[s.id]);const U=["Lecture Notes","Study Notes","Assignment","Project","Reference","Important","Review","Practice","Theory","Lab","Exam Prep"],j=n=>{a(T=>[...T,...n]),d(!0)},E=n=>{a(n),d(!0)},W=async()=>{if(!p.trim()){v.error("Please enter a note title");return}if(!h.trim()){v.error("Please enter note content");return}if(!m){v.error("Please select a course");return}if(!A.trim()){v.error("Please enter tags");return}V(!0);try{await new Promise(T=>setTimeout(T,1e3));const n={...s,title:p.trim(),content:h.trim(),course:m,tags:A.trim(),lastModified:new Date().toISOString(),files:w};i(n),d(!1),v.success("Note saved successfully!")}catch(n){console.error("Save error:",n),v.error("Failed to save note. Please try again.")}finally{V(!1)}},O=()=>{t?_(!0):l()},R=()=>{w.forEach(n=>{n.url.startsWith("blob:")&&URL.revokeObjectURL(n.url)}),_(!1),l()},L=n=>{b(n),d(!0)},f=n=>{C(n),d(!0)},be=n=>{N(n),d(!0)},Ce=n=>{y(n),d(!0)},Ae=n=>{if(!A.includes(n)){const T=A?`${A}, ${n}`:n;y(T),d(!0)}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"bg-card border-b border-border px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(D,{variant:"ghost",onClick:c,className:"text-muted-foreground hover:text-card-foreground -ml-2",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Back to Note"]}),e.jsx(qe,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Editing: ",s.title]}),t&&e.jsx(He,{variant:"secondary",className:"bg-warning/10 text-warning",children:"Unsaved changes"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:O,disabled:k,className:"text-xs",children:[e.jsx(ee,{className:"w-3 h-3 mr-1"}),"Cancel"]}),e.jsx(D,{onClick:W,disabled:k||!p.trim()||!h.trim(),className:"text-xs bg-primary hover:bg-primary/90",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"w-3 h-3 mr-1"}),"Save Note"]})})]})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(F,{children:[e.jsx(M,{children:e.jsx(z,{className:"text-lg text-card-foreground",children:"Note Title"})}),e.jsxs(P,{children:[e.jsx(Z,{value:p,onChange:n=>L(n.target.value),placeholder:"Enter note title...",className:"text-lg font-medium",maxLength:100}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.length,"/100 characters"]})]})]}),e.jsxs(F,{children:[e.jsx(M,{children:e.jsx(z,{className:"text-lg text-card-foreground",children:"Note Content"})}),e.jsxs(P,{children:[e.jsx(Ke,{value:h,onChange:n=>f(n.target.value),placeholder:"Enter your note content here...",className:"min-h-96 resize-none",maxLength:1e4}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length,"/10,000 characters"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.trim().split(/\s+/).length," words"]})]})]})]}),e.jsxs(F,{children:[e.jsx(M,{children:e.jsxs(z,{className:"text-lg text-card-foreground",children:["Attachments (",w.length,")"]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsx(ns,{noteId:s.id,onFilesUploaded:j,accept:"image/*,.pdf,.doc,.docx,.txt,.md",maxSize:50*1024*1024,multiple:!0}),g?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"Loading files..."})]}):e.jsx(Ls,{noteId:s.id,files:w,onFilesChange:E})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F,{children:[e.jsx(M,{children:e.jsxs(z,{className:"text-lg text-card-foreground flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4"}),"Course"]})}),e.jsx(P,{children:e.jsxs(Qe,{value:m,onValueChange:be,children:[e.jsx(Xe,{children:e.jsx(Ze,{placeholder:"Select a course"})}),e.jsx(Je,{children:r.map(n=>e.jsx(es,{value:n.title,children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-card-foreground",children:n.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.code})]})},n.id))})]})})]}),e.jsxs(F,{children:[e.jsx(M,{children:e.jsxs(z,{className:"text-lg text-card-foreground flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4"}),"Tags"]})}),e.jsxs(P,{className:"space-y-4",children:[e.jsx(Z,{value:A,onChange:n=>Ce(n.target.value),placeholder:"Enter tags (comma separated)",maxLength:100}),e.jsxs("div",{children:[e.jsx(ss,{className:"text-xs text-muted-foreground mb-2 block",children:"Quick Tags:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:U.map(n=>e.jsx("button",{onClick:()=>Ae(n),className:"text-xs px-2 py-1 bg-muted hover:bg-primary/10 hover:text-primary rounded-full transition-colors",children:n},n))})]})]})]}),e.jsxs(F,{children:[e.jsx(M,{children:e.jsx(z,{className:"text-lg text-card-foreground",children:"Note Information"})}),e.jsxs(P,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created"}),e.jsx("span",{className:"font-medium text-card-foreground",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Modified"}),e.jsx("span",{className:"font-medium text-card-foreground",children:new Date(s.lastModified).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Characters"}),e.jsx("span",{className:"font-medium text-card-foreground",children:h.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Words"}),e.jsx("span",{className:"font-medium text-card-foreground",children:h.trim().split(/\s+/).length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Attachments"}),e.jsx("span",{className:"font-medium text-card-foreground",children:w.length})]})]})]}),t&&e.jsx(F,{className:"border-warning/20 bg-warning/5",children:e.jsxs(P,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[e.jsx("div",{className:"w-2 h-2 bg-warning rounded-full animate-pulse"}),e.jsx("p",{className:"text-sm font-medium",children:"Unsaved Changes"})]}),e.jsx("p",{className:"text-xs text-warning/80 mt-1",children:"Don't forget to save your changes before leaving!"})]})})]})]})})]}),e.jsx(le,{open:G,onOpenChange:_,children:e.jsxs(oe,{children:[e.jsxs(ie,{children:[e.jsx(ce,{children:"Discard Changes?"}),e.jsx(de,{children:"You have unsaved changes. Are you sure you want to discard them? This action cannot be undone."})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(D,{variant:"outline",onClick:()=>_(!1),children:"Keep Editing"}),e.jsx(D,{variant:"destructive",onClick:R,children:"Discard Changes"})]})]})})]})}export{Rs as default};
//# sourceMappingURL=NoteEditPage-DOKmWLYv.js.map
