{"version":3,"file":"NoteEditPage-BxLt0Jv0.js","sources":["../../node_modules/lucide-react/dist/esm/icons/check-circle-2.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../components/FileUpload.tsx","../../node_modules/@radix-ui/react-alert-dialog/dist/index.mjs","../../components/ui/alert-dialog.tsx","../../components/FileManager.tsx","../../components/NoteEditPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.336.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CheckCircle2 = createLucideIcon(\"CheckCircle2\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CheckCircle2 as default };\n//# sourceMappingURL=check-circle-2.js.map\n","/**\n * @license lucide-react v0.336.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\"path\", { d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\", key: \"1owoqh\" }],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","import { useState, useRef, useCallback } from \"react\";\nimport { Upload, X, File, Image, FileText, AlertCircle, CheckCircle2 } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Progress } from \"./ui/progress\";\nimport { toast } from \"sonner\";\nimport { projectId, publicAnonKey } from \"../utils/supabase/info\";\n\ninterface FileUploadProps {\n  noteId: string;\n  onFilesUploaded: (files: any[]) => void;\n  accept?: string;\n  maxSize?: number; // in bytes\n  multiple?: boolean;\n  className?: string;\n}\n\ninterface UploadingFile {\n  file: File;\n  progress: number;\n  status: 'uploading' | 'success' | 'error';\n  id: string;\n  error?: string;\n}\n\nexport function FileUpload({\n  noteId,\n  onFilesUploaded,\n  accept = \"image/*,.pdf,.doc,.docx,.txt,.md\",\n  maxSize = 50 * 1024 * 1024, // 50MB default\n  multiple = true,\n  className = \"\"\n}: FileUploadProps) {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [uploadingFiles, setUploadingFiles] = useState<UploadingFile[]>([]);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const getFileIcon = (fileType: string) => {\n    if (fileType.startsWith('image/')) return Image;\n    if (fileType === 'application/pdf') return FileText;\n    if (fileType.includes('document') || fileType.includes('word')) return FileText;\n    return File;\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const validateFile = (file: File): string | null => {\n    if (file.size > maxSize) {\n      return `File size must be less than ${formatFileSize(maxSize)}`;\n    }\n\n    const allowedTypes = accept.split(',').map(type => type.trim());\n    const isValidType = allowedTypes.some(type => {\n      if (type.startsWith('.')) {\n        return file.name.toLowerCase().endsWith(type.toLowerCase());\n      } else if (type.includes('/*')) {\n        return file.type.startsWith(type.split('/*')[0]);\n      } else {\n        return file.type === type;\n      }\n    });\n\n    if (!isValidType) {\n      return 'File type not supported';\n    }\n\n    return null;\n  };\n\n  const uploadFile = async (file: File): Promise<any> => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('noteId', noteId);\n\n    const response = await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-917daa5d/upload`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${publicAnonKey}`\n      },\n      body: formData\n    });\n\n    const result = await response.json();\n    \n    if (!response.ok) {\n      throw new Error(result.error || 'Upload failed');\n    }\n\n    return result.file;\n  };\n\n  const handleFiles = useCallback(async (files: FileList) => {\n    const fileArray = Array.from(files);\n    const validFiles: File[] = [];\n    \n    // Validate files\n    for (const file of fileArray) {\n      const validationError = validateFile(file);\n      if (validationError) {\n        toast.error(`${file.name}: ${validationError}`);\n        continue;\n      }\n      validFiles.push(file);\n    }\n\n    if (validFiles.length === 0) return;\n\n    // Initialize uploading files state\n    const uploadingFilesList: UploadingFile[] = validFiles.map((file, index) => ({\n      file,\n      progress: 0,\n      status: 'uploading',\n      id: `upload-${Date.now()}-${index}`\n    }));\n\n    setUploadingFiles(uploadingFilesList);\n\n    // Upload files one by one\n    const uploadedFiles: any[] = [];\n    \n    for (let i = 0; i < validFiles.length; i++) {\n      const file = validFiles[i];\n      const uploadingFile = uploadingFilesList[i];\n\n      try {\n        // Simulate progress (since we can't track real progress with FormData)\n        const progressInterval = setInterval(() => {\n          setUploadingFiles(prev => \n            prev.map(uf => \n              uf.id === uploadingFile.id \n                ? { ...uf, progress: Math.min(uf.progress + 10, 90) }\n                : uf\n            )\n          );\n        }, 200);\n\n        const uploadedFile = await uploadFile(file);\n        \n        clearInterval(progressInterval);\n\n        // Update to success\n        setUploadingFiles(prev => \n          prev.map(uf => \n            uf.id === uploadingFile.id \n              ? { ...uf, progress: 100, status: 'success' }\n              : uf\n          )\n        );\n\n        uploadedFiles.push(uploadedFile);\n        toast.success(`${file.name} uploaded successfully`);\n\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Upload failed';\n        \n        setUploadingFiles(prev => \n          prev.map(uf => \n            uf.id === uploadingFile.id \n              ? { ...uf, status: 'error', error: errorMessage }\n              : uf\n          )\n        );\n\n        toast.error(`Failed to upload ${file.name}: ${errorMessage}`);\n      }\n    }\n\n    // Clear uploading files after a delay\n    setTimeout(() => {\n      setUploadingFiles([]);\n    }, 3000);\n\n    // Notify parent component of successful uploads\n    if (uploadedFiles.length > 0) {\n      onFilesUploaded(uploadedFiles);\n    }\n  }, [noteId, maxSize, accept, onFilesUploaded]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    \n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFiles(files);\n    }\n  }, [handleFiles]);\n\n  const handleFileInput = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files) {\n      handleFiles(files);\n    }\n    // Reset input value to allow same file to be selected again\n    e.target.value = '';\n  }, [handleFiles]);\n\n  const removeUploadingFile = (id: string) => {\n    setUploadingFiles(prev => prev.filter(uf => uf.id !== id));\n  };\n\n  return (\n    <div className={className}>\n      <Card \n        className={`border-2 border-dashed transition-colors cursor-pointer ${\n          isDragOver \n            ? 'border-primary bg-primary/5' \n            : 'border-border hover:border-primary/50'\n        }`}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <CardContent className=\"p-6\">\n          <div className=\"text-center\">\n            <Upload className=\"mx-auto h-12 w-12 text-muted-foreground mb-4\" />\n            <div className=\"space-y-2\">\n              <p className=\"text-sm font-medium\">\n                Drop files here or click to upload\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                Supports images, PDFs, documents up to {formatFileSize(maxSize)}\n              </p>\n            </div>\n          </div>\n          \n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple={multiple}\n            accept={accept}\n            onChange={handleFileInput}\n            className=\"hidden\"\n          />\n        </CardContent>\n      </Card>\n\n      {/* Upload Progress */}\n      {uploadingFiles.length > 0 && (\n        <div className=\"mt-4 space-y-3\">\n          {uploadingFiles.map((uploadingFile) => {\n            const Icon = getFileIcon(uploadingFile.file.type);\n            \n            return (\n              <Card key={uploadingFile.id} className=\"p-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <Icon className=\"h-8 w-8 text-muted-foreground flex-shrink-0\" />\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <p className=\"text-sm font-medium truncate\">\n                        {uploadingFile.file.name}\n                      </p>\n                      <div className=\"flex items-center space-x-2\">\n                        {uploadingFile.status === 'success' && (\n                          <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\n                        )}\n                        {uploadingFile.status === 'error' && (\n                          <AlertCircle className=\"h-4 w-4 text-red-500\" />\n                        )}\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            removeUploadingFile(uploadingFile.id);\n                          }}\n                        >\n                          <X className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                    \n                    <div className=\"text-xs text-muted-foreground mb-2\">\n                      {formatFileSize(uploadingFile.file.size)}\n                    </div>\n                    \n                    {uploadingFile.status === 'uploading' && (\n                      <Progress value={uploadingFile.progress} className=\"h-2\" />\n                    )}\n                    \n                    {uploadingFile.status === 'error' && (\n                      <p className=\"text-xs text-red-500\">\n                        {uploadingFile.error}\n                      </p>\n                    )}\n                    \n                    {uploadingFile.status === 'success' && (\n                      <p className=\"text-xs text-green-600\">\n                        Uploaded successfully\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}","\"use client\";\n\n// src/alert-dialog.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { createDialogScope } from \"@radix-ui/react-dialog\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ROOT_NAME = \"AlertDialog\";\nvar [createAlertDialogContext, createAlertDialogScope] = createContextScope(ROOT_NAME, [\n  createDialogScope\n]);\nvar useDialogScope = createDialogScope();\nvar AlertDialog = (props) => {\n  const { __scopeAlertDialog, ...alertDialogProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Root, { ...dialogScope, ...alertDialogProps, modal: true });\n};\nAlertDialog.displayName = ROOT_NAME;\nvar TRIGGER_NAME = \"AlertDialogTrigger\";\nvar AlertDialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...triggerProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Trigger, { ...dialogScope, ...triggerProps, ref: forwardedRef });\n  }\n);\nAlertDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"AlertDialogPortal\";\nvar AlertDialogPortal = (props) => {\n  const { __scopeAlertDialog, ...portalProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Portal, { ...dialogScope, ...portalProps });\n};\nAlertDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"AlertDialogOverlay\";\nvar AlertDialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...overlayProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Overlay, { ...dialogScope, ...overlayProps, ref: forwardedRef });\n  }\n);\nAlertDialogOverlay.displayName = OVERLAY_NAME;\nvar CONTENT_NAME = \"AlertDialogContent\";\nvar [AlertDialogContentProvider, useAlertDialogContentContext] = createAlertDialogContext(CONTENT_NAME);\nvar Slottable = createSlottable(\"AlertDialogContent\");\nvar AlertDialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, children, ...contentProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const cancelRef = React.useRef(null);\n    return /* @__PURE__ */ jsx(\n      DialogPrimitive.WarningProvider,\n      {\n        contentName: CONTENT_NAME,\n        titleName: TITLE_NAME,\n        docsSlug: \"alert-dialog\",\n        children: /* @__PURE__ */ jsx(AlertDialogContentProvider, { scope: __scopeAlertDialog, cancelRef, children: /* @__PURE__ */ jsxs(\n          DialogPrimitive.Content,\n          {\n            role: \"alertdialog\",\n            ...dialogScope,\n            ...contentProps,\n            ref: composedRefs,\n            onOpenAutoFocus: composeEventHandlers(contentProps.onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              cancelRef.current?.focus({ preventScroll: true });\n            }),\n            onPointerDownOutside: (event) => event.preventDefault(),\n            onInteractOutside: (event) => event.preventDefault(),\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(DescriptionWarning, { contentRef })\n            ]\n          }\n        ) })\n      }\n    );\n  }\n);\nAlertDialogContent.displayName = CONTENT_NAME;\nvar TITLE_NAME = \"AlertDialogTitle\";\nvar AlertDialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...titleProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Title, { ...dialogScope, ...titleProps, ref: forwardedRef });\n  }\n);\nAlertDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"AlertDialogDescription\";\nvar AlertDialogDescription = React.forwardRef((props, forwardedRef) => {\n  const { __scopeAlertDialog, ...descriptionProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Description, { ...dialogScope, ...descriptionProps, ref: forwardedRef });\n});\nAlertDialogDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"AlertDialogAction\";\nvar AlertDialogAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...actionProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...actionProps, ref: forwardedRef });\n  }\n);\nAlertDialogAction.displayName = ACTION_NAME;\nvar CANCEL_NAME = \"AlertDialogCancel\";\nvar AlertDialogCancel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...cancelProps } = props;\n    const { cancelRef } = useAlertDialogContentContext(CANCEL_NAME, __scopeAlertDialog);\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const ref = useComposedRefs(forwardedRef, cancelRef);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...cancelProps, ref });\n  }\n);\nAlertDialogCancel.displayName = CANCEL_NAME;\nvar DescriptionWarning = ({ contentRef }) => {\n  const MESSAGE = `\\`${CONTENT_NAME}\\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \\`${CONTENT_NAME}\\` by passing a \\`${DESCRIPTION_NAME}\\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \\`id\\` and passing the same value to the \\`aria-describedby\\` prop in \\`${CONTENT_NAME}\\`. If the description is confusing or duplicative for sighted users, you can use the \\`@radix-ui/react-visually-hidden\\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;\n  React.useEffect(() => {\n    const hasDescription = document.getElementById(\n      contentRef.current?.getAttribute(\"aria-describedby\")\n    );\n    if (!hasDescription) console.warn(MESSAGE);\n  }, [MESSAGE, contentRef]);\n  return null;\n};\nvar Root2 = AlertDialog;\nvar Trigger2 = AlertDialogTrigger;\nvar Portal2 = AlertDialogPortal;\nvar Overlay2 = AlertDialogOverlay;\nvar Content2 = AlertDialogContent;\nvar Action = AlertDialogAction;\nvar Cancel = AlertDialogCancel;\nvar Title2 = AlertDialogTitle;\nvar Description2 = AlertDialogDescription;\nexport {\n  Action,\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n  Cancel,\n  Content2 as Content,\n  Description2 as Description,\n  Overlay2 as Overlay,\n  Portal2 as Portal,\n  Root2 as Root,\n  Title2 as Title,\n  Trigger2 as Trigger,\n  createAlertDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"./utils\";\nimport { buttonVariants } from \"./button\";\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />;\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  );\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  );\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  );\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n","import { useState, useEffect } from \"react\";\nimport { Download, Trash2, Eye, File, Image, FileText, ExternalLink } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"./ui/dialog\";\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from \"./ui/alert-dialog\";\nimport { toast } from \"sonner\";\nimport { projectId, publicAnonKey } from \"../utils/supabase/info\";\n\ninterface FileManagerProps {\n  noteId: string;\n  files: any[];\n  onFilesChange: (files: any[]) => void;\n  className?: string;\n}\n\nexport function FileManager({ noteId, files, onFilesChange, className = \"\" }: FileManagerProps) {\n  const [previewFile, setPreviewFile] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getFileIcon = (fileType: string) => {\n    if (fileType.startsWith('image/')) return Image;\n    if (fileType === 'application/pdf') return FileText;\n    if (fileType.includes('document') || fileType.includes('word')) return FileText;\n    return File;\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const handleDelete = async (fileId: string) => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-917daa5d/files/${fileId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${publicAnonKey}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete file');\n      }\n\n      // Update local state\n      const updatedFiles = files.filter(file => file.id !== fileId);\n      onFilesChange(updatedFiles);\n      \n      toast.success('File deleted successfully');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      toast.error('Failed to delete file');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDownload = async (file: any) => {\n    try {\n      // For images, we can use the signed URL directly\n      if (file.type.startsWith('image/')) {\n        const link = document.createElement('a');\n        link.href = file.url;\n        link.download = file.name;\n        link.target = '_blank';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        // For other files, open in new tab\n        window.open(file.url, '_blank');\n      }\n    } catch (error) {\n      console.error('Error downloading file:', error);\n      toast.error('Failed to download file');\n    }\n  };\n\n  const handlePreview = (file: any) => {\n    if (file.type.startsWith('image/') || file.type === 'application/pdf') {\n      setPreviewFile(file);\n    } else {\n      // For non-previewable files, download them\n      handleDownload(file);\n    }\n  };\n\n  if (files.length === 0) {\n    return (\n      <div className={`text-center py-8 text-muted-foreground ${className}`}>\n        <File className=\"mx-auto h-12 w-12 mb-2 opacity-50\" />\n        <p>No files attached</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {files.map((file) => {\n          const Icon = getFileIcon(file.type);\n          const isImage = file.type.startsWith('image/');\n          \n          return (\n            <Card key={file.id} className=\"group hover:shadow-md transition-shadow\">\n              <CardContent className=\"p-4\">\n                <div className=\"space-y-3\">\n                  {/* File Preview/Icon */}\n                  <div className=\"aspect-square rounded-lg bg-muted overflow-hidden relative\">\n                    {isImage ? (\n                      <img\n                        src={file.url}\n                        alt={file.name}\n                        className=\"w-full h-full object-cover cursor-pointer\"\n                        onClick={() => handlePreview(file)}\n                        loading=\"lazy\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <Icon className=\"h-12 w-12 text-muted-foreground\" />\n                      </div>\n                    )}\n                    \n                    {/* Hover overlay for non-images */}\n                    {!isImage && (\n                      <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity flex items-center justify-center cursor-pointer\"\n                           onClick={() => handlePreview(file)}>\n                        <Eye className=\"w-6 h-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity\" />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* File Info */}\n                  <div className=\"space-y-1\">\n                    <p className=\"text-sm font-medium truncate\" title={file.name}>\n                      {file.name}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {formatFileSize(file.size)} • {formatDate(file.uploadDate)}\n                    </p>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex items-center gap-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handlePreview(file)}\n                      className=\"flex-1\"\n                    >\n                      <Eye className=\"w-4 h-4 mr-1\" />\n                      {isImage ? 'View' : 'Open'}\n                    </Button>\n                    \n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handleDownload(file)}\n                    >\n                      <Download className=\"w-4 h-4\" />\n                    </Button>\n\n                    <AlertDialog>\n                      <AlertDialogTrigger asChild>\n                        <Button variant=\"ghost\" size=\"sm\" disabled={isLoading}>\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </AlertDialogTrigger>\n                      <AlertDialogContent>\n                        <AlertDialogHeader>\n                          <AlertDialogTitle>Delete File</AlertDialogTitle>\n                          <AlertDialogDescription>\n                            Are you sure you want to delete \"{file.name}\"? This action cannot be undone.\n                          </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                          <AlertDialogCancel>Cancel</AlertDialogCancel>\n                          <AlertDialogAction \n                            onClick={() => handleDelete(file.id)}\n                            className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n                          >\n                            Delete\n                          </AlertDialogAction>\n                        </AlertDialogFooter>\n                      </AlertDialogContent>\n                    </AlertDialog>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* File Preview Dialog */}\n      <Dialog open={!!previewFile} onOpenChange={() => setPreviewFile(null)}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-hidden\">\n          {previewFile && (\n            <>\n              <DialogHeader>\n                <DialogTitle className=\"flex items-center gap-2\">\n                  {(() => {\n                    const Icon = getFileIcon(previewFile.type);\n                    return <Icon className=\"w-5 h-5\" />;\n                  })()}\n                  {previewFile.name}\n                </DialogTitle>\n                <DialogDescription>\n                  {formatFileSize(previewFile.size)} • {formatDate(previewFile.uploadDate)}\n                </DialogDescription>\n              </DialogHeader>\n              \n              <div className=\"flex-1 overflow-auto\">\n                {previewFile.type.startsWith('image/') ? (\n                  <img\n                    src={previewFile.url}\n                    alt={previewFile.name}\n                    className=\"max-w-full max-h-full object-contain rounded-lg\"\n                  />\n                ) : previewFile.type === 'application/pdf' ? (\n                  <iframe\n                    src={previewFile.url}\n                    className=\"w-full h-[60vh] rounded-lg\"\n                    title={previewFile.name}\n                  />\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <p className=\"text-muted-foreground mb-4\">\n                      Preview not available for this file type\n                    </p>\n                    <Button onClick={() => handleDownload(previewFile)}>\n                      <ExternalLink className=\"w-4 h-4 mr-2\" />\n                      Open File\n                    </Button>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"flex items-center justify-between pt-4 border-t\">\n                <div className=\"text-sm text-muted-foreground\">\n                  {formatFileSize(previewFile.size)} • {formatDate(previewFile.uploadDate)}\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" onClick={() => handleDownload(previewFile)}>\n                    <Download className=\"w-4 h-4 mr-2\" />\n                    Download\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","import { useState, useRef, useEffect } from \"react\";\nimport { ArrowLeft, Save, X, Upload, FileText, Image as ImageIcon, File, Trash2, Download, Tag, BookOpen, Calendar } from \"lucide-react\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Label } from \"./ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"./ui/select\";\nimport { Badge } from \"./ui/badge\";\nimport { Separator } from \"./ui/separator\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"./ui/dialog\";\nimport { toast } from \"sonner\";\nimport { FileUpload } from \"./FileUpload\";\nimport { FileManager } from \"./FileManager\";\nimport { projectId, publicAnonKey } from \"../utils/supabase/info\";\n\ninterface UploadedFile {\n  id: string;\n  name: string;\n  type: string;\n  size: number;\n  url: string;\n  uploadDate: string;\n}\n\ninterface Note {\n  id: string;\n  title: string;\n  content: string;\n  course: string;\n  tags: string;\n  createdAt: string;\n  lastModified: string;\n  favorite: boolean;\n  files?: UploadedFile[];\n}\n\ninterface Course {\n  id: string;\n  title: string;\n  code: string;\n  semester: number;\n  status: 'completed' | 'ongoing' | 'upcoming';\n}\n\ninterface NoteEditPageProps {\n  note: Note;\n  courses: Course[];\n  onBack: () => void;\n  onSave: (updatedNote: Note) => void;\n  onCancel: () => void;\n}\n\nfunction NoteEditPage({ note, courses, onBack, onSave, onCancel }: NoteEditPageProps) {\n  const [title, setTitle] = useState(note.title);\n  const [content, setContent] = useState(note.content);\n  const [selectedCourse, setSelectedCourse] = useState(note.course);\n  const [tags, setTags] = useState(note.tags);\n  const [files, setFiles] = useState<UploadedFile[]>(note.files || []);\n  const [isUploading, setIsUploading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [showDiscardDialog, setShowDiscardDialog] = useState(false);\n  const [unsavedChanges, setUnsavedChanges] = useState(false);\n  const [isLoadingFiles, setIsLoadingFiles] = useState(false);\n  \n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Load existing files for the note\n  useEffect(() => {\n    const loadFiles = async () => {\n      if (note.id && note.id !== 'new') {\n        setIsLoadingFiles(true);\n        try {\n          const response = await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-917daa5d/files/${note.id}`, {\n            headers: {\n              'Authorization': `Bearer ${publicAnonKey}`\n            }\n          });\n          \n          if (response.ok) {\n            const result = await response.json();\n            setFiles(result.files || []);\n          }\n        } catch (error) {\n          console.error('Error loading files:', error);\n        } finally {\n          setIsLoadingFiles(false);\n        }\n      }\n    };\n\n    loadFiles();\n  }, [note.id]);\n\n  // Common tags for quick selection\n  const commonTags = [\n    \"Lecture Notes\", \"Study Notes\", \"Assignment\", \"Project\", \"Reference\", \n    \"Important\", \"Review\", \"Practice\", \"Theory\", \"Lab\", \"Exam Prep\"\n  ];\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const getFileIcon = (fileType: string) => {\n    if (fileType.startsWith('image/')) return <ImageIcon className=\"w-4 h-4\" />;\n    if (fileType === 'application/pdf') return <FileText className=\"w-4 h-4 text-red-500\" />;\n    if (fileType.includes('word') || fileType.includes('document')) return <FileText className=\"w-4 h-4 text-blue-500\" />;\n    if (fileType === 'text/plain') return <File className=\"w-4 h-4 text-gray-500\" />;\n    return <File className=\"w-4 h-4\" />;\n  };\n\n  const handleFilesUploaded = (uploadedFiles: UploadedFile[]) => {\n    setFiles(prev => [...prev, ...uploadedFiles]);\n    setUnsavedChanges(true);\n  };\n\n  const handleFilesChange = (updatedFiles: UploadedFile[]) => {\n    setFiles(updatedFiles);\n    setUnsavedChanges(true);\n  };\n\n  const handleSave = async () => {\n    // Validation\n    if (!title.trim()) {\n      toast.error(\"Please enter a note title\");\n      return;\n    }\n    \n    if (!content.trim()) {\n      toast.error(\"Please enter note content\");\n      return;\n    }\n    \n    if (!selectedCourse) {\n      toast.error(\"Please select a course\");\n      return;\n    }\n    \n    if (!tags.trim()) {\n      toast.error(\"Please enter tags\");\n      return;\n    }\n\n    setIsSaving(true);\n    \n    try {\n      // Simulate save delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      const updatedNote: Note = {\n        ...note,\n        title: title.trim(),\n        content: content.trim(),\n        course: selectedCourse,\n        tags: tags.trim(),\n        lastModified: new Date().toISOString(),\n        files: files\n      };\n      \n      onSave(updatedNote);\n      setUnsavedChanges(false);\n      toast.success(\"Note saved successfully!\");\n      \n    } catch (error) {\n      console.error('Save error:', error);\n      toast.error(\"Failed to save note. Please try again.\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    if (unsavedChanges) {\n      setShowDiscardDialog(true);\n    } else {\n      onCancel();\n    }\n  };\n\n  const handleDiscardChanges = () => {\n    // Clean up any object URLs\n    files.forEach(file => {\n      if (file.url.startsWith('blob:')) {\n        URL.revokeObjectURL(file.url);\n      }\n    });\n    \n    setShowDiscardDialog(false);\n    onCancel();\n  };\n\n  // Track changes\n  const handleTitleChange = (value: string) => {\n    setTitle(value);\n    setUnsavedChanges(true);\n  };\n\n  const handleContentChange = (value: string) => {\n    setContent(value);\n    setUnsavedChanges(true);\n  };\n\n  const handleCourseChange = (value: string) => {\n    setSelectedCourse(value);\n    setUnsavedChanges(true);\n  };\n\n  const handleTagsChange = (value: string) => {\n    setTags(value);\n    setUnsavedChanges(true);\n  };\n\n  const addQuickTag = (tag: string) => {\n    if (!tags.includes(tag)) {\n      const newTags = tags ? `${tags}, ${tag}` : tag;\n      setTags(newTags);\n      setUnsavedChanges(true);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-5xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-card border-b border-border px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Button \n                variant=\"ghost\" \n                onClick={onBack}\n                className=\"text-muted-foreground hover:text-card-foreground -ml-2\"\n              >\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Note\n              </Button>\n              <Separator orientation=\"vertical\" className=\"h-6\" />\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"w-4 h-4 text-muted-foreground\" />\n                <span className=\"text-sm text-muted-foreground\">\n                  Editing: {note.title}\n                </span>\n                {unsavedChanges && (\n                  <Badge variant=\"secondary\" className=\"bg-warning/10 text-warning\">\n                    Unsaved changes\n                  </Badge>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              <Button \n                variant=\"outline\" \n                onClick={handleCancel}\n                disabled={isSaving}\n                className=\"text-xs\"\n              >\n                <X className=\"w-3 h-3 mr-1\" />\n                Cancel\n              </Button>\n              <Button \n                onClick={handleSave}\n                disabled={isSaving || !title.trim() || !content.trim()}\n                className=\"text-xs bg-primary hover:bg-primary/90\"\n              >\n                {isSaving ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1\"></div>\n                    Saving...\n                  </>\n                ) : (\n                  <>\n                    <Save className=\"w-3 h-3 mr-1\" />\n                    Save Note\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Main Edit Area */}\n            <div className=\"lg:col-span-2 space-y-6\">\n              {/* Title */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground\">Note Title</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Input\n                    value={title}\n                    onChange={(e) => handleTitleChange(e.target.value)}\n                    placeholder=\"Enter note title...\"\n                    className=\"text-lg font-medium\"\n                    maxLength={100}\n                  />\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    {title.length}/100 characters\n                  </p>\n                </CardContent>\n              </Card>\n\n              {/* Content */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground\">Note Content</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Textarea\n                    value={content}\n                    onChange={(e) => handleContentChange(e.target.value)}\n                    placeholder=\"Enter your note content here...\"\n                    className=\"min-h-96 resize-none\"\n                    maxLength={10000}\n                  />\n                  <div className=\"flex items-center justify-between mt-2\">\n                    <p className=\"text-xs text-muted-foreground\">\n                      {content.length}/10,000 characters\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {content.trim().split(/\\s+/).length} words\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* File Attachments */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground\">Attachments ({files.length})</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  {/* File Upload */}\n                  <FileUpload\n                    noteId={note.id}\n                    onFilesUploaded={handleFilesUploaded}\n                    accept=\"image/*,.pdf,.doc,.docx,.txt,.md\"\n                    maxSize={50 * 1024 * 1024} // 50MB\n                    multiple={true}\n                  />\n                  \n                  {/* File Manager */}\n                  {isLoadingFiles ? (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2\"></div>\n                      <p className=\"text-sm\">Loading files...</p>\n                    </div>\n                  ) : (\n                    <FileManager\n                      noteId={note.id}\n                      files={files}\n                      onFilesChange={handleFilesChange}\n                    />\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Sidebar */}\n            <div className=\"space-y-6\">\n              {/* Course Selection */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground flex items-center gap-2\">\n                    <BookOpen className=\"w-4 h-4\" />\n                    Course\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Select value={selectedCourse} onValueChange={handleCourseChange}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select a course\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {courses.map((course) => (\n                        <SelectItem key={course.id} value={course.title}>\n                          <div>\n                            <p className=\"font-medium text-card-foreground\">{course.title}</p>\n                            <p className=\"text-xs text-muted-foreground\">{course.code}</p>\n                          </div>\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </CardContent>\n              </Card>\n\n              {/* Tags */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground flex items-center gap-2\">\n                    <Tag className=\"w-4 h-4\" />\n                    Tags\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <Input\n                    value={tags}\n                    onChange={(e) => handleTagsChange(e.target.value)}\n                    placeholder=\"Enter tags (comma separated)\"\n                    maxLength={100}\n                  />\n                  \n                  <div>\n                    <Label className=\"text-xs text-muted-foreground mb-2 block\">Quick Tags:</Label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {commonTags.map((tag) => (\n                        <button\n                          key={tag}\n                          onClick={() => addQuickTag(tag)}\n                          className=\"text-xs px-2 py-1 bg-muted hover:bg-primary/10 hover:text-primary rounded-full transition-colors\"\n                        >\n                          {tag}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Note Info */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg text-card-foreground\">Note Information</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Created</span>\n                    <span className=\"font-medium text-card-foreground\">\n                      {new Date(note.createdAt).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Last Modified</span>\n                    <span className=\"font-medium text-card-foreground\">\n                      {new Date(note.lastModified).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Characters</span>\n                    <span className=\"font-medium text-card-foreground\">{content.length}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Words</span>\n                    <span className=\"font-medium text-card-foreground\">{content.trim().split(/\\s+/).length}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">Attachments</span>\n                    <span className=\"font-medium text-card-foreground\">{files.length}</span>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Save Reminder */}\n              {unsavedChanges && (\n                <Card className=\"border-warning/20 bg-warning/5\">\n                  <CardContent className=\"pt-6\">\n                    <div className=\"flex items-center gap-2 text-warning\">\n                      <div className=\"w-2 h-2 bg-warning rounded-full animate-pulse\"></div>\n                      <p className=\"text-sm font-medium\">Unsaved Changes</p>\n                    </div>\n                    <p className=\"text-xs text-warning/80 mt-1\">\n                      Don't forget to save your changes before leaving!\n                    </p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Discard Changes Dialog */}\n      <Dialog open={showDiscardDialog} onOpenChange={setShowDiscardDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Discard Changes?</DialogTitle>\n            <DialogDescription>\n              You have unsaved changes. Are you sure you want to discard them? This action cannot be undone.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end gap-2 mt-4\">\n            <Button variant=\"outline\" onClick={() => setShowDiscardDialog(false)}>\n              Keep Editing\n            </Button>\n            <Button variant=\"destructive\" onClick={handleDiscardChanges}>\n              Discard Changes\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default NoteEditPage;"],"names":["CheckCircle2","createLucideIcon","Save","FileUpload","noteId","onFilesUploaded","accept","maxSize","multiple","className","isDragOver","setIsDragOver","useState","uploadingFiles","setUploadingFiles","fileInputRef","useRef","getFileIcon","fileType","Image","FileText","File","formatFileSize","bytes","k","sizes","i","validateFile","file","type","uploadFile","formData","response","projectId","publicAnonKey","result","handleFiles","useCallback","files","fileArray","validFiles","validationError","toast","uploadingFilesList","index","uploadedFiles","uploadingFile","progressInterval","prev","uf","uploadedFile","error","errorMessage","handleDragOver","e","handleDragLeave","handleDrop","handleFileInput","removeUploadingFile","id","jsxs","jsx","Card","_a","CardContent","Upload","Icon","AlertCircle","Button","X","Progress","ROOT_NAME","createAlertDialogContext","createContextScope","createDialogScope","useDialogScope","AlertDialog","props","__scopeAlertDialog","alertDialogProps","dialogScope","DialogPrimitive.Root","TRIGGER_NAME","AlertDialogTrigger","React.forwardRef","forwardedRef","triggerProps","DialogPrimitive.Trigger","PORTAL_NAME","AlertDialogPortal","portalProps","DialogPrimitive.Portal","OVERLAY_NAME","AlertDialogOverlay","overlayProps","DialogPrimitive.Overlay","CONTENT_NAME","AlertDialogContentProvider","useAlertDialogContentContext","Slottable","createSlottable","AlertDialogContent","children","contentProps","contentRef","React.useRef","composedRefs","useComposedRefs","cancelRef","DialogPrimitive.WarningProvider","TITLE_NAME","DialogPrimitive.Content","composeEventHandlers","event","DescriptionWarning","AlertDialogTitle","titleProps","DialogPrimitive.Title","DESCRIPTION_NAME","AlertDialogDescription","descriptionProps","DialogPrimitive.Description","ACTION_NAME","AlertDialogAction","actionProps","DialogPrimitive.Close","CANCEL_NAME","AlertDialogCancel","cancelProps","ref","MESSAGE","React.useEffect","Root2","Trigger2","Portal2","Overlay2","Content2","Action","Cancel","Title2","Description2","AlertDialogPrimitive.Root","AlertDialogPrimitive.Trigger","AlertDialogPrimitive.Portal","AlertDialogPrimitive.Overlay","cn","AlertDialogPrimitive.Content","AlertDialogHeader","AlertDialogFooter","AlertDialogPrimitive.Title","AlertDialogPrimitive.Description","AlertDialogPrimitive.Action","buttonVariants","AlertDialogPrimitive.Cancel","FileManager","onFilesChange","previewFile","setPreviewFile","isLoading","setIsLoading","formatDate","dateString","handleDelete","fileId","updatedFiles","handleDownload","link","handlePreview","isImage","Eye","Download","Trash2","Dialog","DialogContent","Fragment","DialogHeader","DialogTitle","DialogDescription","ExternalLink","NoteEditPage","note","courses","onBack","onSave","onCancel","title","setTitle","content","setContent","selectedCourse","setSelectedCourse","tags","setTags","setFiles","isUploading","setIsUploading","isSaving","setIsSaving","showDiscardDialog","setShowDiscardDialog","unsavedChanges","setUnsavedChanges","isLoadingFiles","setIsLoadingFiles","useEffect","commonTags","handleFilesUploaded","handleFilesChange","handleSave","resolve","updatedNote","handleCancel","handleDiscardChanges","handleTitleChange","value","handleContentChange","handleCourseChange","handleTagsChange","addQuickTag","tag","newTags","ArrowLeft","Separator","Calendar","Badge","CardHeader","CardTitle","Input","Textarea","BookOpen","Select","SelectTrigger","SelectValue","SelectContent","course","SelectItem","Tag","Label"],"mappings":"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","x_google_ignoreList":[0,1,3]}